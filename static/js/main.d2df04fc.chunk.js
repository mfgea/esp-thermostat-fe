(this["webpackJsonpesp-thermostat-fe"]=this["webpackJsonpesp-thermostat-fe"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),l=a.n(c),o=a(1),m=a(116),u=a(117);var i=function(){return Object(m.a)(new Date,"PP H:mm",{locale:u.a})},s=function(){var e=Object(n.useState)(i()),t=Object(o.a)(e,2),a=t[0],c=t[1];return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return c(i())}),1e3),r.a.createElement("div",{className:"time"},a)},f=(a(62),function(e){var t=e.icon,a=e.value;return r.a.createElement("div",{className:"temperature-card"},r.a.createElement("i",{className:t}),r.a.createElement("span",{className:"temp-value"},a," \xb0C"))}),d=(a(63),function(e){var t=e.ambientTemp;return r.a.createElement("section",null,r.a.createElement("div",{className:"temp-cards"},r.a.createElement(f,{icon:"fa fa-home",value:t}),r.a.createElement(f,{icon:"wi wi-day-rain",value:"5"})),r.a.createElement("div",{className:"city-name"},"Mar del Plata"))}),p=a(52),b=a.n(p),E=a(38),g=(a(107),a(108),a(109),function(e){return e.toLocaleString(navigator.language,{minimumFractionDigits:1})}),O=function(e){var t=e.targetTemp,a=e.powerState,c=e.programmedTemp,l=e.programmedOnEnabled,m=e.programmedOffEnabled,u=e.programmedOnTime,i=e.programmedOffTime,s=e.onPowerChange,f=e.onTargetTemperatureChange,d=e.onProgrammedTemperatureChange,p=e.onProgrammedOnToggle,O=e.onProgrammedOffToggle,v=e.onProgrammedOnTime,h=e.onProgrammedOffTime,j=Object(n.useState)("manual"),N=Object(o.a)(j,2),w=N[0],T=N[1],C=Object(n.useCallback)((function(){return T("manual")}),[]),S=Object(n.useCallback)((function(){return T("auto")}),[]);return r.a.createElement("section",null,r.a.createElement("div",{className:"power-controls"},r.a.createElement("button",{onClick:C,className:"manual"===w?"active":""},"Manual"),r.a.createElement("button",{onClick:S,className:"auto"===w?"active":""},"Auto")),"manual"===w&&r.a.createElement("div",{className:"controls-pane manual-controls"},r.a.createElement("div",{className:"power-toggle"},r.a.createElement("label",{htmlFor:"power-switch"},"Power"),r.a.createElement(b.a,{id:"power-switch",onChange:function(e){s(Boolean(e.target.checked))},icons:!1,className:"power-switch",checked:a})),r.a.createElement("div",{className:"temp-controls"},r.a.createElement("button",{className:"temperature-button",onClick:function(){return f(t-.5)}},r.a.createElement("i",{className:"fa fa-minus-circle fa-3x"})),r.a.createElement("span",{className:"temp-value"},g(t)," \xb0C"),r.a.createElement("button",{className:"temperature-button",onClick:function(){return f(t+.5)}},r.a.createElement("i",{className:"fa fa-plus-circle fa-3x"})))),"auto"===w&&r.a.createElement("div",{className:"controls-pane auto-controls"},r.a.createElement("div",{className:"time-pickers"},r.a.createElement("div",{className:"schedule-control",disabled:!l},r.a.createElement(E.a,{onClick:function(e){p(e.target.checked)},checked:l}),r.a.createElement("label",null,"On"),r.a.createElement("input",{type:"time",disabled:!l,value:u,onChange:function(e){return v(e.target.value||null)}})),r.a.createElement("div",{className:"schedule-control",disabled:!m},r.a.createElement(E.a,{onClick:function(e){return O(e.target.checked)},checked:m}),r.a.createElement("label",null,"Off"),r.a.createElement("input",{type:"time",disabled:!m,value:i,onChange:function(e){return h(e.target.value||null)}}))),r.a.createElement("div",{className:"programmed-temp",disabled:!l},r.a.createElement("button",{className:"temperature-button",disabled:!l,onClick:function(){return d(c+.5)}},r.a.createElement("i",{className:"fa fa-plus-circle fa-3x"})),r.a.createElement("span",{className:"temp-value"},g(c)," \xb0C"),r.a.createElement("button",{className:"temperature-button",disabled:!l,onClick:function(){return d(c-.5)}},r.a.createElement("i",{className:"fa fa-minus-circle fa-3x"})))))},v=(a(110),function(e){var t=e.boilerState,a=e.uptime,n="boiler-state ".concat(t?"on":"off");return r.a.createElement("section",{id:"status-container"},r.a.createElement("div",{className:"uptime"},"Uptime",r.a.createElement("span",{className:"uptime-value"},a)),r.a.createElement("div",{className:n},r.a.createElement("i",{className:"fa fa-fire fa-3x"})))}),h=(a(111),function(e){var t=e.apiDomain,a=Object(n.useState)(18),c=Object(o.a)(a,2),l=c[0],m=c[1],u=Object(n.useState)(21),i=Object(o.a)(u,2),f=i[0],p=i[1],b=Object(n.useState)(!0),E=Object(o.a)(b,2),g=E[0],h=E[1],j=Object(n.useState)(!0),N=Object(o.a)(j,2),w=N[0],T=N[1],C=Object(n.useState)(22),S=Object(o.a)(C,2),k=S[0],P=S[1],x=Object(n.useState)(null),y=Object(o.a)(x,2),D=y[0],I=y[1],B=Object(n.useState)(null),M=Object(o.a)(B,2),F=M[0],J=M[1],W=Object(n.useState)(!1),A=Object(o.a)(W,2),H=A[0],L=A[1],R=Object(n.useState)(!1),U=Object(o.a)(R,2),$=U[0],q=U[1],z=Object(n.useState)(!1),G=Object(o.a)(z,2),K=G[0],Q=G[1],V=Object(n.useState)(!0),X=Object(o.a)(V,2),Y=X[0],Z=X[1],_=Object(n.useState)("00:00:00:00"),ee=Object(o.a)(_,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){var e=setInterval((function(){return Z(!0)}),5e3);return function(){return clearInterval(e)}})),Object(n.useEffect)((function(){!K&&Y&&(Q(!0),fetch("".concat(t,"status")).then((function(e){return e.json()})).then((function(e){m(e.temperature),p(e.desiredTemp),T(e.boilerState),h(e.powerState),ae(e.uptime)})))}),[K,Y,t]);return r.a.createElement("div",{className:"thermostat"},r.a.createElement("header",null,r.a.createElement("h1",null,"Thermostat"),r.a.createElement(s,null)),r.a.createElement(d,{ambientTemp:l}),r.a.createElement(O,{targetTemp:f,powerState:g,programmedTemp:k,programmedOnTime:D,programmedOffTime:F,programmedOnEnabled:H,programmedOffEnabled:$,onPowerChange:function(e){return h(e)},onTargetTemperatureChange:function(e){return p(e)},onProgrammedTemperatureChange:function(e){return P(e)},onProgrammedOnTime:function(e){return I(e)},onProgrammedOffTime:function(e){return J(e)},onProgrammedOnToggle:function(e){return L(e)},onProgrammedOffToggle:function(e){return q(e)}}),r.a.createElement(v,{boilerState:w,uptime:te}))});a(112);var j=function(){return r.a.createElement("div",null,r.a.createElement(h,{apiDomain:window.apiDomain}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){e.exports=a(113)},62:function(e,t,a){},63:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.d2df04fc.chunk.js.map